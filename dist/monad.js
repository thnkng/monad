var d="https://unpkg.com/lucide-static",b="latest",u=new Map;async function A(s,e=b){let t=s.trim().toLowerCase().replace(/_/g,"-"),r=`${e}:${t}`;if(u.has(r))return u.get(r);let o=`${d}@${e}/icons/${t}.svg`,n=fetch(o).then(async c=>{if(!c.ok)throw new Error(`Icon not found: ${t}`);return c.text()});return u.set(r,n),n}function m(s){let e=document.createElement("template");e.innerHTML=s.trim();let t=e.content.querySelector("svg");return t?(t.removeAttribute("width"),t.removeAttribute("height"),t.setAttribute("fill","none"),t.setAttribute("stroke","currentColor"),t.setAttribute("stroke-linecap",t.getAttribute("stroke-linecap")||"round"),t.setAttribute("stroke-linejoin",t.getAttribute("stroke-linejoin")||"round"),t.removeAttribute("stroke-width"),t.outerHTML):null}var a=class extends HTMLElement{static get observedAttributes(){return["name","size","stroke","label","color","version"]}constructor(){super(),this._requestId=0}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_setA11y(e){let t=this.getAttribute("label");t?(e.setAttribute("role","img"),e.setAttribute("aria-label",t),e.removeAttribute("aria-hidden")):(e.setAttribute("aria-hidden","true"),e.removeAttribute("role"),e.removeAttribute("aria-label"))}async _update(){let e=(this.getAttribute("name")||"").toLowerCase(),t=(this.getAttribute("size")||"").toLowerCase(),r=(this.getAttribute("stroke")||"").toLowerCase(),o=this.getAttribute("color"),n=this.getAttribute("version")||b;if(t&&this.setAttribute("size",t),r&&this.setAttribute("stroke",r),o?this.style.color=o:this.style.removeProperty("color"),this.innerHTML="",!e)return;let c=++this._requestId;try{let i=await A(e,n),h=m(i)||"";if(c!==this._requestId)return;if(h)this.innerHTML=h;else throw new Error("Invalid SVG content")}catch(i){this.innerHTML=`
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <rect x="4" y="4" width="16" height="16" rx="2"></rect>
        </svg>
      `,console.warn(`[m-icon] ${(i==null?void 0:i.message)||i}`)}let l=this.querySelector("svg");l&&this._setA11y(l)}};customElements.get("m-icon")||customElements.define("m-icon",a);
//# sourceMappingURL=monad.js.map
