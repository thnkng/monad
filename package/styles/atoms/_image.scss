@use "../tokens/colors" as *;

img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
  height: auto;
}

img {
  border-radius: 0;
}

/* Aspect ratios */
img[data-aspect="square"],
picture[data-aspect="square"] img {
  aspect-ratio: 1 / 1;
  object-fit: cover;
}

img[data-aspect="video"],
picture[data-aspect="video"] img {
  aspect-ratio: 16 / 9;
  object-fit: cover;
}

img[data-aspect="portrait"],
picture[data-aspect="portrait"] img {
  aspect-ratio: 3 / 4;
  object-fit: cover;
}

img[data-aspect="landscape"],
picture[data-aspect="landscape"] img {
  aspect-ratio: 4 / 3;
  object-fit: cover;
}

/* Object fit */
img[data-fit="cover"] {
  object-fit: cover;
}

img[data-fit="contain"] {
  object-fit: contain;
}

img[data-fit="fill"] {
  object-fit: fill;
}

img[data-fit="none"] {
  object-fit: none;
}

img[data-fit="scale-down"] {
  object-fit: scale-down;
}

/* Bordas arredondadas */
img[data-rounded="sm"],
picture[data-rounded="sm"] img {
  border-radius: var(--radius-sm);
}

img[data-rounded="md"],
picture[data-rounded="md"] img {
  border-radius: var(--radius-md);
}

img[data-rounded="lg"],
picture[data-rounded="lg"] img {
  border-radius: var(--radius-lg);
}

img[data-rounded="full"],
picture[data-rounded="full"] img {
  border-radius: var(--radius-pill);
}

/* Borda */
img[data-border="true"],
picture[data-border="true"] img {
  border: 1px solid var(--color-border);
}

/* Sombra */
img[data-shadow="sm"],
picture[data-shadow="sm"] img {
  box-shadow: var(--shadow-faint);
}

img[data-shadow="md"],
picture[data-shadow="md"] img {
  box-shadow: var(--shadow-soft);
}

img[data-shadow="lg"],
picture[data-shadow="lg"] img {
  box-shadow: var(--shadow-medium);
}

/* Grayscale/Filtros */
img[data-grayscale="true"] {
  filter: grayscale(100%);
  transition: filter var(--motion-duration-medium) var(--motion-ease-standard);
}

img[data-grayscale="true"].hoverable:hover {
  filter: grayscale(0%);
}

img[data-blur="true"] {
  filter: blur(8px);
}

/* Placeholder para imagens que falharam ao carregar */
img[data-placeholder="true"] {
  background-color: var(--color-muted-weak);
  background-image: linear-gradient(
    45deg,
    var(--color-border) 25%,
    transparent 25%,
    transparent 75%,
    var(--color-border) 75%
  );
  background-size: 20px 20px;
  min-height: 200px;
}

// Generate border color variants for images
@each $palette, $entries in $colors {
  @each $name, $value in $entries {
    @if $name == default {
      img.#{"" + $palette},
      picture.#{"" + $palette} img {
        border: 2px solid #{$value};
      }
    } @else {
      img.#{"" + $palette}-#{$name},
      picture.#{"" + $palette}-#{$name} img {
        border: 2px solid #{$value};
      }
    }
  }
}
