// ============================================
// Button Atom
// ============================================

@use "sass:color";
@use "../mixins" as *;
@use "../tokens/colors" as c;

// Base button - neutro por padrão
button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  font-family: var(--font-family-sans);
  font-size: var(--font-size-medium);
  line-height: var(--line-height-tight);
  font-weight: var(--font-weight-medium);
  border-radius: var(--radius-md);
  padding: var(--space-small) var(--space-medium);
  border: 1px solid var(--color-border);
  cursor: pointer;
  background: var(--color-surface);
  color: var(--color-on-surface);
  @include base-transition;
  @include focus-ring;
  
  &:active {
    transform: scale(0.98);
  }
  
  @include disabled;
}

// Color variants - adapta o botão quando tem classe de cor
@each $palette, $entries in c.$colors {
  @each $name, $value in $entries {
    $class: if($name == default, ".#{$palette}", ".#{$palette}-#{$name}");
    
    button#{$class} {
      $l: color.channel($value, "lightness", hsl);
      background: $value;
      border-color: $value;
      color: if($l > 60%, var(--graphite-mind), white);
      
      &.hoverable:hover {
        transform: translateY(-1px);
        box-shadow: var(--shadow-soft);
      }
      
      // Outline variant - fundo claro, borda e texto da cor
      &.outline {
        background: color-mix(in srgb, $value 5%, var(--color-surface));
        border-color: $value;
        color: $value;
        
        &.hoverable:hover {
          background: $value;
          color: if($l > 60%, var(--graphite-mind), white);
        }
      }
      
      // Ghost variant - transparente
      &.ghost {
        background: transparent;
        border-color: transparent;
        color: $value;
        
        &.hoverable:hover {
          background: color-mix(in srgb, $value 8%, var(--color-surface));
        }
      }
    }
  }
}

