// ============================================
// Table Atom
// ============================================

@use "sass:color";
@use "../mixins" as *;
@use "../tokens/colors" as c;

table {
  width: 100%;
  border-collapse: collapse;
  @include base-transition;
  
  th, td {
    padding: var(--space-3) var(--space-4);
    text-align: left;
    border-bottom: 1px solid var(--color-border);
  }
  
  th {
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-small);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    background: var(--color-surface);
    color: var(--color-on-surface);
  }
  
  tbody tr {
    &:last-child td { border-bottom: none; }
    
    &.hoverable:hover {
      background: color-mix(in srgb, var(--color-border) 20%, var(--color-surface));
    }
  }
}

// Color variants
@each $palette, $entries in c.$colors {
  @each $name, $value in $entries {
    $class: if($name == default, ".#{$palette}", ".#{$palette}-#{$name}");
    $l: color.channel($value, "lightness", hsl);
    
    table#{$class} th {
      background: $value;
      color: if($l > 60%, var(--graphite-mind), white);
    }
  }
}
