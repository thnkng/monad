@use "mixins" as *;

// ============================================
// Diptych Layout
// ============================================
// Two faces of one work â€” editor + preview
// Usage: <body class="diptych">

body.diptych {
  @include base-layout(1fr 1fr, 64px 1fr);
  grid-template-areas: "header header" "left right";
  min-height: 100vh;
  
  > header {
    @include sticky-header;
    grid-area: header;
  }
  
  > *:nth-child(2) {
    grid-area: left;
    overflow-y: auto;
    padding: var(--space-6);
    background: var(--color-surface);
    border-right: 1px solid var(--color-border);
  }
  
  > *:nth-child(3) {
    grid-area: right;
    overflow-y: auto;
    padding: var(--space-6);
    background: var(--cloud-pure);
  }
}

// Variants
body.diptych.left-large { grid-template-columns: 1.5fr 1fr; }
body.diptych.right-large { grid-template-columns: 1fr 1.5fr; }

body.diptych.vertical {
  grid-template-areas: "header" "left" "right";
  grid-template-columns: 1fr;
  grid-template-rows: 64px 1fr 1fr;
  
  > *:nth-child(2) {
    border-right: none;
    border-bottom: 1px solid var(--color-border);
  }
}

// Responsive
@media (max-width: 1024px) {
  body.diptych {
    grid-template-areas: "header" "left" "right";
    grid-template-columns: 1fr;
    grid-template-rows: 64px auto 1fr;
    
    > *:nth-child(2) {
      border-right: none;
      border-bottom: 1px solid var(--color-border);
      max-height: 50vh;
    }
  }
}

@media (max-width: 768px) {
  body.diptych > *:not(header) {
    @include mobile-padding;
  }
}
